(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{4267:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(7462),o=n(3366),i=n(7294),l=(n(5697),n(6010)),a=n(7463),s=n(1496),c=n(7623),x=n(1420);function u(e){return(0,x.Z)("MuiCardContent",e)}(0,n(1271).Z)("MuiCardContent",["root"]);var d=n(5893);const h=["className","component"],p=(0,s.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}})));var f=i.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=n,x=(0,o.Z)(n,h),f=(0,r.Z)({},n,{component:s}),m=(e=>{const{classes:t}=e;return(0,a.Z)({root:["root"]},u,t)})(f);return(0,d.jsx)(p,(0,r.Z)({as:s,className:(0,l.Z)(m.root,i),ownerState:f,ref:t},x))}))},6242:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(7462),o=n(3366),i=n(7294),l=(n(5697),n(6010)),a=n(7463),s=n(1496),c=n(7623),x=n(5113),u=n(1420);function d(e){return(0,u.Z)("MuiCard",e)}(0,n(1271).Z)("MuiCard",["root"]);var h=n(5893);const p=["className","raised"],f=(0,s.ZP)(x.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"})));var m=i.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=n,x=(0,o.Z)(n,p),u=(0,r.Z)({},n,{raised:s}),m=(e=>{const{classes:t}=e;return(0,a.Z)({root:["root"]},d,t)})(u);return(0,h.jsx)(f,(0,r.Z)({className:(0,l.Z)(m.root,i),elevation:s?8:void 0,ref:t,ownerState:u},x))}))},8169:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return n(6710)}])},6710:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var r=n(5893),o=n(4051),i=n.n(o),l=n(7294),a=n(1163),s=n(1664),c=n(7357),x=n(6242),u=n(4267),d=n(5861),h=n(7918),p=n(7720),f=n(3321),m=n(2579),v=n(655),w=n(5273),g=n(8210),b=n(7426),y=n(9061),Z=n(6507);var j=n(994),D=n(2055);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n,r,o,i,l){try{var a=e[i](l),s=a.value}catch(c){return void n(c)}a.done?t(s):Promise.resolve(s).then(r,o)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}function S(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=[{name:"Playlist",type:"playlists"},{name:"Audio",type:"audios"},{name:"T\xe1c gi\u1ea3",type:"authors"},{name:"K\xeanh",type:"channels"}],X=function(e){var t=e.searchResults,n=e.type,o=e.spaceBetween,i=e.isSm,l=e.playlistImgWidth,a=e.numItemPerLine,h=i?16:32;switch(n){case"playlists":return(0,r.jsx)(c.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:"".concat(o,"px"),flexWrap:"wrap",rowGap:"".concat(h,"px"),mb:"48px"}),children:t.map((function(e){var t;return(0,r.jsx)(s.default,{href:"/".concat(n,"/").concat(e.id),children:(0,r.jsx)("a",{style:{width:"calc(100% / ".concat(i?a:5," - ").concat((a-1)*h/a,"px)"),height:"".concat(l,"px")},children:(0,r.jsx)(m.Z,{promotion:null===e||void 0===e?void 0:e.promotion,style:{width:"100%",height:"100%",borderRadius:3},avtSrc:null===e||void 0===e||null===(t=e.avatar)||void 0===t?void 0:t.thumb_url,alt:"images ".concat(e.name)},e.id)})},e.id)}))});case"audios":return(0,r.jsx)(c.Z,{sx:O({width:"100%"},(0,g.X)("flex-start","center"),{flexDirection:"column",rowGap:i?0:"24px",mb:"48px"}),children:t.map((function(e){var t,n;return(0,r.jsx)(c.Z,{sx:O({width:"100%",height:i?"74px":"100px",cursor:"pointer"},(0,g.X)("flex-start","center")),children:(0,r.jsx)(s.default,{href:"/playlists/".concat(null===e||void 0===e?void 0:e.playlist_id,"/?audioId=").concat(null===e||void 0===e?void 0:e.id),style:{textDecoration:"none",height:"100%",width:"100%"},children:(0,r.jsxs)(x.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:i?"10px":"20px",bgcolor:"inherit",boxShadow:"none",width:"100%",height:"100%"}),children:[(0,r.jsxs)(c.Z,{sx:{width:i?"40px":"100px",height:i?"40px":"100px",position:"relative"},children:[(0,r.jsx)("img",{style:{width:i?"40px":"100px",height:i?"40px":"100px",borderRadius:"50%"},src:null===e||void 0===e||null===(t=e.avatar)||void 0===t?void 0:t.thumb_url,alt:"images ".concat(e.name)}),(0,r.jsx)(v.Z,{fontSize:i?"small":"large",sx:{position:"absolute",color:b.DM.white,top:"50%",left:"50%",transform:"translate(-50%,-50%)"}})]}),(0,r.jsx)(u.Z,{sx:O({},(0,g.X)("space-between","flex-start"),{flexDirection:"column",flex:"1 0 auto",p:0,height:"100%",width:i?"calc(100% - 110px)":"calc(100% - 120px)","&:last-child":{p:0}}),children:(0,r.jsxs)(c.Z,{sx:O({},(0,g.X)("space-between","center"),{width:"100%",borderBottom:"1px solid ".concat(b.DM.bg2),height:"100%"}),children:[(0,r.jsxs)(c.Z,{sx:O({},(0,g.X)("center","flex-start"),{flexDirection:"column",flex:"1 0 auto",rowGap:"6px",width:i?"100%":"75%"}),children:[(0,r.jsx)(d.Z,{sx:O({},b.gN.content1,{color:b.DM.white,display:"-webkit-box",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden"}),children:null===e||void 0===e?void 0:e.name}),(0,r.jsx)(c.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:"6px"}),children:(0,r.jsx)(d.Z,{sx:O({},i?b.gN.content2:b.gN.content1,{color:b.DM.contentIcon,display:"-webkit-box",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden"}),children:null===e||void 0===e||null===(n=e.playlist)||void 0===n?void 0:n.name})})]}),!i&&(0,r.jsxs)(c.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:"11px",width:"20%"}),children:[(0,r.jsx)(w.Z2,{}),(0,r.jsx)(d.Z,{sx:O({},b.gN.content1,{color:b.DM.VZ_Text_content}),children:(0,j.Z)(null===e||void 0===e?void 0:e.duration)})]})]})})]})})},null===e||void 0===e?void 0:e.id)}))});case"authors":return(0,r.jsx)(c.Z,{sx:O({width:"100%"},(0,g.X)("flex-start","center"),{flexDirection:"column",rowGap:i?0:"24px",mb:"48px"}),children:t.map((function(e){var t;return(0,r.jsx)(c.Z,{sx:O({width:"100%",height:i?"74px":"100px"},(0,g.X)("flex-start","center")),children:(0,r.jsx)(s.default,{href:"/authors/".concat(null===e||void 0===e?void 0:e.id),style:{textDecoration:"none",height:"100%",width:"100%"},children:(0,r.jsxs)(x.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:i?"10px":"20px",bgcolor:"inherit",boxShadow:"none",width:"100%",height:"100%"}),children:[(0,r.jsx)(c.Z,{sx:{width:i?"40px":"100px",height:i?"40px":"100px",position:"relative"},children:(0,r.jsx)("img",{style:{width:i?"40px":"100px",height:i?"40px":"100px",borderRadius:"50%"},src:null===e||void 0===e||null===(t=e.avatar)||void 0===t?void 0:t.thumb_url,alt:"images ".concat(e.name)})}),(0,r.jsx)(u.Z,{sx:O({},(0,g.X)("space-between","flex-start"),{flexDirection:"column",flex:"1 0 auto",p:0,height:"100%",width:i?"calc(100% - 110px)":"calc(100% - 120px)","&:last-child":{p:0}}),children:(0,r.jsx)(c.Z,{sx:O({},(0,g.X)("space-between","center"),{width:"100%",borderBottom:"1px solid ".concat(b.DM.bg2),height:"100%"}),children:(0,r.jsxs)(c.Z,{sx:O({},(0,g.X)("center","flex-start"),{flexDirection:"column",flex:"1 0 auto",rowGap:"6px",width:"100%"}),children:[(0,r.jsx)(d.Z,{sx:O({},b.gN.content1,{color:b.DM.white,display:"-webkit-box",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden"}),children:null===e||void 0===e?void 0:e.name}),(0,r.jsx)(c.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:"6px"}),children:(0,r.jsx)(d.Z,{sx:O({},i?b.gN.content2:b.gN.content1,{color:b.DM.contentIcon,display:"-webkit-box",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden"}),children:null===e||void 0===e?void 0:e.description})})]})})})]})})},null===e||void 0===e?void 0:e.id)}))});case"channels":return(0,r.jsx)(c.Z,{sx:O({width:"100%"},(0,g.X)("flex-start","center"),{flexDirection:"column",rowGap:"24px",mb:"48px"}),children:t.map((function(e){var t;return(0,r.jsx)(c.Z,{sx:O({width:"100%",height:i?"74px":"100px"},(0,g.X)("flex-start","center")),children:(0,r.jsx)(s.default,{href:"/".concat(n,"/").concat(null===e||void 0===e?void 0:e.id),style:{textDecoration:"none",height:"100%",width:"100%"},children:(0,r.jsxs)(x.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:i?"10px":"20px",bgcolor:"inherit",boxShadow:"none",width:"100%",height:"100%"}),children:[(0,r.jsx)(c.Z,{sx:{width:i?"40px":"100px",height:i?"40px":"100px",position:"relative"},children:(0,r.jsx)("img",{style:{width:i?"40px":"100px",height:i?"40px":"100px",borderRadius:"50%"},src:null===e||void 0===e||null===(t=e.avatar)||void 0===t?void 0:t.thumb_url,alt:"images ".concat(e.name)})}),(0,r.jsx)(u.Z,{sx:O({},(0,g.X)("space-between","flex-start"),{flexDirection:"column",flex:"1 0 auto",p:0,height:"100%",width:i?"calc(100% - 110px)":"calc(100% - 120px)","&:last-child":{p:0}}),children:(0,r.jsx)(c.Z,{sx:O({},(0,g.X)("space-between","center"),{width:"100%",borderBottom:"1px solid ".concat(b.DM.bg2),height:"100%"}),children:(0,r.jsx)(c.Z,{sx:O({},(0,g.X)("center","flex-start"),{flexDirection:"column",flex:"1 0 auto",rowGap:"6px",width:"100%"}),children:(0,r.jsx)(d.Z,{sx:O({},i?b.gN.content1:b.gN.h3,{color:b.DM.white,display:"-webkit-box",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden"}),children:null===e||void 0===e?void 0:e.name})})})})]})},null===e||void 0===e?void 0:e.id)},null===e||void 0===e?void 0:e.id)}))})}};var C=(0,a.withRouter)((function(){var e=new D.Z,t=(0,y.Z)(),n=t.width<=b.nN.sm,o=(0,l.useState)("playlists"),s=o[0],x=o[1],u=(0,l.useState)(null),m=u[0],v=u[1],w=(0,l.useState)({}),j=w[0],k=w[1],N=(0,l.useState)(!1),C=N[0],R=N[1],G=function(){var e=(0,a.useRouter)().query;return(0,l.useMemo)((function(){return new URLSearchParams(e)}),[e])}().get("searchKey"),P=n?3:5,T=n?16:24;(0,l.useEffect)((function(){var e={type:s,searchKey:G,nextOffset:null,language:null,nextQueryType:null};B(),W(e)}),[C]),(0,l.useEffect)((function(){v(null),k({}),R(!C)}),[s,G]),(0,l.useEffect)((function(){B()}),[]);var W=function(){var t,n=(t=i().mark((function t(n){var r,o,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=[],t.next=4,e.getSearchResults(n.type,n.searchKey,n.nextOffset,n.language,n.nextQueryType);case 4:return o=t.sent,t.next=7,o.data;case 7:if(l=t.sent,r=S(r).concat(S(l.data)),!l.meta||2!==l.meta.next_offset){t.next=17;break}return t.next=12,e.getSearchResults(n.type,n.searchKey,l.meta.next_offset,n.language,n.nextQueryType);case 12:return o=t.sent,t.next=15,o.data;case 15:l=t.sent,r=S(r).concat(S(l.data));case 17:m&&(r=S(m).concat(S(r))),v(S(r)),["playlists","audios"].includes(s)&&k(O({},l.meta)),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function l(e){M(i,r,o,l,a,"next",e)}function a(e){M(i,r,o,l,a,"throw",e)}l(void 0)}))});return function(e){return n.apply(this,arguments)}}(),B=function(){var e=(0,Z.Z)()||[];e.push(G),(e=S(new Set(e))).length>5&&(e=e.slice(1)),function(e){var t=JSON.stringify(e);localStorage.setItem("keywords",t)}(e)};return(0,r.jsxs)(c.Z,{sx:{p:"".concat(48,"px"),width:"100%",boxSizing:"border-box"},children:[(0,r.jsx)(c.Z,{sx:{mb:n?"32px":"48px",width:"100%"},children:(0,r.jsxs)(d.Z,{sx:O({},n?b.gN.h3:b.gN.h1,{color:b.DM.white,overflow:"hidden",textOverflow:"ellipsis"}),children:['K\u1ebft Qu\u1ea3 T\xecm Ki\u1ebfm"',G,'"']})}),(0,r.jsx)(c.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:"8px"}),children:_.map((function(e){return(0,r.jsx)(h.Z,{label:e.name,sx:O({bgcolor:e.type===s?b.DM.bg3:"transparent",color:e.type===s?b.DM.white:b.DM.VZ_Text_content},b.gN.title1,{":hover":{bgcolor:b.DM.bg3}}),onClick:function(){var t;t=e.type,x(t)}},e.name)}))}),(0,r.jsx)(p.Z,{sx:{borderBottomColor:b.DM.bg2,mt:n?"16px":"24px",mb:n?"16px":"48px"}}),(0,r.jsxs)(c.Z,{children:[m&&m.length>0&&(0,r.jsx)(X,{searchResults:m,type:s,isSm:n,playlistImgWidth:function(){var e=t.width-96,r=(P-1)*T/P;return n||(e-=b.pG),e/P-r}(),spaceBetween:T,numItemPerLine:P}),m&&0===m.length&&(0,r.jsxs)(c.Z,{sx:{pt:n?"65px":"53px",width:n?"80%":"30%",textAlign:"center",ml:"auto",mr:"auto"},children:[(0,r.jsx)("img",{src:"/images/search404.png",alt:"search404"}),(0,r.jsx)(d.Z,{sx:O({},b.gN.content1,{color:b.DM.bg4,mt:"32px"}),children:"Kh\xf4ng t\xecm th\u1ea5y t\u1eeb kh\xf3a ph\xf9 h\u1ee3p"}),(0,r.jsx)(d.Z,{sx:O({},b.gN.content1,{color:b.DM.bg4}),children:"H\xe3y th\u1eed v\u1edbi t\u1eeb kh\xf3a kh\xe1c"})]})]}),(null===j||void 0===j?void 0:j.next_offset)&&(0,r.jsx)(c.Z,{sx:{width:"100%",textAlign:"center"},children:(0,r.jsx)(f.Z,{onClick:function(){var e={type:s,searchKey:G,nextOffset:null,language:null,nextQueryType:null};["playlists","audios"].includes(s)&&(e.nextOffset=j.next_offset,e.nextQueryType=j.next_query_type,e.language=j.language),W(e)},sx:O({},b.gN.title1,{color:b.DM.white,textTransform:"none",width:"142px",height:"48px",border:"1px solid ".concat(b.DM.blackStroker)}),children:"Xem th\xeam"})})]})})),R=function(){return(0,r.jsx)(C,{})}}},function(e){e.O(0,[774,888,179],(function(){return t=8169,e(e.s=t);var t}));var t=e.O();_N_E=t}]);